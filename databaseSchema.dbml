Project GadgetStore {
  database_type: 'PostgreSQL'
  Note: 'Gadget store project'
}


Table Users {
  user_id int [primary key, increment]
  fist_name varchar [not null]
  last_name varchar [not null]
  email varchar [not null, unique]
  password varchar [not null]
  phone varchar [not null]
  isAdmin bool [not null]
}

Table DiscountCoupons {
    coupon_id int [primary key, increment]
    created_by int [not null, ref: > Users.user_id]
    created_at date [not null]
    valid_until date [not null]
}



Table Categories {
  category_id int [primary key, increment]
  name varchar [not null]
  description varchar [not null]
}

Table Products {
  product_id int [primary key, increment]
  name varchar [not null]
  description varchar [not null]
  price decimal [not null]
  stock int [not null]
  category_id int [not null, ref: > Categories.category_id]
  brand varchar
  model varchar
  Indexes {
    category_id
  }
}

Table Orders {
  order_id int [primary key, increment]
  user_id int [not null, ref: > Users.user_id]
  order_date date [not null]
  status varchar [not null]
  total_amount decimal [not null]
  Indexes {
    user_id
  }
}

Table Order_Items {
  order_item_id int [primary key, increment]
  order_id int [not null, ref: > Orders.order_id]
  product_id int [not null, ref: > Products.product_id]
  coupon_id int [ref: > DiscountCoupons.coupon_id]
  quantity int [not null]
  unit_price decimal [not null]
  Indexes {
    order_id
    product_id
  }
}

Table Reviews {
  review_id int [primary key, increment]
  product_id int [not null, ref: > Products.product_id]
  user_id int [not null, ref: > Users.user_id]
  rating int [not null]
  review_date date [not null]
  Indexes {
    product_id
    user_id
  }
}


Table Cart_Items {
  cart_item_id int [primary key, increment]
  user_id int [not null, ref: > Users.user_id]
  product_id int [not null, ref: > Products.product_id]
  quantity int [not null]
  Indexes {
    user_id
    product_id
  }
}

// Relationships
//Ref: Users.user_id < Orders.user_id // One-to-many
//Ref: Orders.order_id < Order_Items.order_id // One-to-many
//Ref: Products.product_id < Order_Items.product_id // One-to-many
//Ref: Products.category_id > Categories.category_id // Many-to-one
//Ref: Users.user_id < Reviews.user_id // One-to-many
//Ref: Products.product_id < Reviews.product_id // One-to-many
//Ref: Users.user_id < Cart_Items.user_id // One-to-many
//Ref: Products.product_id < Cart_Items.product_id // One-to-many
